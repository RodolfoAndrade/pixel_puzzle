<div class="main">
  <h1>Pixel Puzzle</h1>
  <h2>by RodolfoAndrade</h2>
  <button (click)="getImage()">Start</button><br>
  <div *ngIf="image">
    <div class="wrapper flex-row">
      <h3>select color: </h3>
      <table class="table"><tr><td *ngFor="let x of colors" [ngStyle]="{'background-color': 'rgba('+x.r+', '+x.g+', '+x.b+', '+x.a+')'}" (click)="selectColor(x)"> </td></tr></table>
      <h3>selected color: </h3>
      <table class="table"><tr><td [ngStyle]="{'background-color': 'rgba('+color.r+', '+color.g+', '+color.b+', '+color.a+')'}"> </td></tr></table>
    </div>
    <table>
      <tr>
        <td></td>
        <td>
          <table class="table header">
            <tr *ngFor="let i of table_col">
              <td *ngFor="let j of i; let ind = index" [ngClass]="j==0 ? 'invisible' : validCols[ind]">{{j}}</td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <table class="table header">
            <tr *ngFor="let i of table_row; let  ind = index">
              <td *ngFor="let j of i" [ngClass]="j==0 ? 'invisible' : validRows[ind]">{{j}}</td>
            </tr>
          </table>
        </td>
        <td>
          <table class="table game">
            <tr *ngFor="let i of rows">
              <td *ngFor="let j of cols"
              (click)="setColor(i, j)"
              [ngStyle]="{'background-color': 'rgba('+puzzle[i*16+j].r+', '+puzzle[i*16+j].g+', '+puzzle[i*16+j].b+', '+puzzle[i*16+j].a+')'}"></td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </div>
  <app-footer></app-footer>
</div>
<router-outlet />
